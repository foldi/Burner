/*
Burner
Copyright (c) 2013 Vince Allen | vince@vinceallen.com | http://www.vinceallen.com | florajs.com/license
*/
/* Version: 2.1.0 */
/* Build time: September 1, 2013 06:23:35 */var Burner={},exports=Burner;
(function(f){function h(a,b){this.x=a||0;this.y=b||0}function k(){var a,b;this.name="StatsDisplay";this._active=!0;this._fps=0;this._timeLastSecond=this._timeLastFrame=this._time=Date.now?Date.now():0;this._frameCount=0;this.el=document.createElement("div");this.el.id="statsDisplay";this.el.className="statsDisplay";this.el.style.backgroundColor="black";this.el.style.color="white";this.el.style.fontFamily="Helvetica";this.el.style.padding="0.5em";this.el.style.opacity="0.5";this._fpsValue=this._totalElementsValue=
null;a=document.createElement("span");a.className="statsDisplayLabel";a.style.marginLeft="0.5em";b=document.createTextNode("total elements: ");a.appendChild(b);this.el.appendChild(a);this._totalElementsValue=document.createTextNode("0");this.el.appendChild(this._totalElementsValue);a=document.createElement("span");a.className="statsDisplayLabel";a.style.marginLeft="0.5em";b=document.createTextNode("fps: ");a.appendChild(b);this.el.appendChild(a);this._fpsValue=document.createTextNode("0");this.el.appendChild(this._fpsValue);
document.body.appendChild(this.el);this._update(this)}function j(){}function i(a){if(!a||!a.world||"object"!==typeof a.world)throw Error('Item: A valid DOM object is required for the new Item "world" property.');this.world=a.world;this.name=a.name||"Item";this.id=this.name+f.System.getNewId();this._force=new f.Vector;this._camera=new f.Vector;this.el=document.createElement("div");this.el.id=this.id;this.el.className="item "+this.name.toLowerCase();this.el.style.visibility="hidden";this.world.el.appendChild(this.el)}
function l(a,b){if(!a||"object"!==typeof a)throw Error('World: A valid DOM object is required for the new World "el" property.');var c=b||{},d=f.System.getWindowSize();this.el=a;this.name="World";this.el.className=this.name.toLowerCase();this.id=this.name+f.System.getNewId();this.width=c.width||0;this.height=c.height||0;this.autoWidth=!!c.autoWidth;this.autoHeight=!!c.autoHeight;this.angle=0;this.color=c.color||"transparent";this.colorMode=c.colorMode||"rgb";this.visibility=c.visibility||"visible";
this.opacity=c.opacity||1;this.borderWidth=c.borderWidth||0;this.borderStyle=c.borderStyle||"none";this.borderColor=c.borderColor||"transparent";this.boxShadowOffset=c.boxShadowOffset||new f.Vector;this.boxShadowBlur=c.boxShadowBlur||0;this.boxShadowSpread=c.boxShadowSpread||0;this.boxShadowColor=c.boxShadowColor||"transparent";this.gravity=c.gravity||new f.Vector(0,1);this.c=c.c||0.1;this.boundToWindow=!1===c.boundToWindow?!1:!0;this.location=c.location||new f.Vector(d.width/2,d.height/2);this.initLocation=
new f.Vector(this.location.x,this.location.y);this.position=c.position||"absolute";this.paddingTop=c.paddingTop||0;this.paddingRight=c.paddingRight||0;this.paddingBottom=c.paddingBottom||0;this.paddingLeft=c.paddingLeft||0;this.marginTop=c.marginTop||0;this.pauseDraw=this.pauseStep=!1;this._setBounds();this._pool=[];this.world={};this.draw()}function n(a){a=a||{};a.name="Box";f.Item.call(this,a)}function o(a){a=a||{};a.name="Ball";f.Item.call(this,a)}window.requestAnimFrame=window.requestAnimationFrame||
window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)};h.VectorSub=function(a,b){return new h(a.x-b.x,a.y-b.y)};h.VectorAdd=function(a,b){return new h(a.x+b.x,a.y+b.y)};h.VectorMult=function(a,b){return new h(a.x*b,a.y*b)};h.VectorDiv=function(a,b){return new h(a.x/b,a.y/b)};h.VectorDistance=function(a,b){return Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2))};h.VectorMidPoint=
function(a,b){return h.VectorAdd(a,b).div(2)};h.VectorAngleBetween=function(a,b){var c=a.dot(b);return Math.acos(c/(a.mag()*b.mag()))};h.prototype.name="Vector";h.prototype.clone=function(){function a(){}a.prototype=this;return new a};h.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};h.prototype.sub=function(a){this.x-=a.x;this.y-=a.y;return this};h.prototype.mult=function(a){this.x*=a;this.y*=a;return this};h.prototype.div=function(a){this.x/=a;this.y/=a;return this};h.prototype.mag=
function(){return Math.sqrt(this.x*this.x+this.y*this.y)};h.prototype.limit=function(a,b){var c=a||null,d=b||null;c&&this.mag()>c&&(this.normalize(),this.mult(c));d&&this.mag()<d&&(this.normalize(),this.mult(d));return this};h.prototype.normalize=function(){var a=this.mag();if(0!==a)return this.div(a)};h.prototype.distance=function(a){return Math.sqrt(Math.pow(a.x-this.x,2)+Math.pow(a.y-this.y,2))};h.prototype.rotate=function(a){var b=Math.cos(a),a=Math.sin(a),c=this.x,d=this.y;this.x=c*b-d*a;this.y=
c*a+d*b;return this};h.prototype.midpoint=function(a){return h.VectorAdd(this,a).div(2)};h.prototype.dot=function(a){return this.z&&a.z?this.x*a.x+this.y*a.y+this.z*a.z:this.x*a.x+this.y*a.y};f.Vector=h;k.prototype.getFPS=function(){return this._fps};k.prototype._update=function(a){var b=f.System.count();a._time=Date.now?Date.now():0;a._frameCount++;a._time>a._timeLastSecond+1E3&&(a._fps=a._frameCount,a._timeLastSecond=a._time,a._frameCount=0,a._fpsValue.nodeValue=a._fps,a._totalElementsValue.nodeValue=
b);var c=this;this._active&&window.requestAnimFrame(function(){c._update(c)})};k.prototype.destroy=function(){this._active=!1;document.getElementById(this.el.id)&&document.body.removeChild(this.el)};f.StatsDisplay=k;j.detect=function(a){return!this[a]?!1:this[a].call(this)};j.csstransforms=function(){var a=document.createDocumentFragment(),b=document.createElement("div");a.appendChild(b);b.style.cssText="-webkit-transform: translateX(1px) translateY(1px);-moz-transform: translateX(1px) translateY(1px);-o-transform: translateX(1px) translateY(1px);-ms-transform: translateX(1px) translateY(1px)";
for(var a=[b.style.transform,b.style.webkitTransform,b.style.MozTransform,b.style.OTransform,b.style.msTransform],b=!1,c=0;c<a.length;c+=1)if(a[c]){b=!0;break}return b};j.csstransforms3d=function(){var a=document.createDocumentFragment(),b=document.createElement("div");a.appendChild(b);b.style.cssText="-webkit-transform: translate3d(1px, 1px, 0);-moz-transform: translate3d(1px, 1px, 0);-o-transform: translate3d(1px, 1px, 0);-ms-transform: translate3d(1px, 1px, 0)";for(var a=[b.style.transform,b.style.webkitTransform,
b.style.MozTransform,b.style.OTransform,b.style.msTransform],b=!1,c=0;c<a.length;c+=1)if(a[c]){b=!0;break}return b};j.touch=function(){var a=document.createElement("div");a.setAttribute("ongesturestart","return;");return"function"===typeof a.ongesturestart?!0:!1};f.FeatureDetector=j;i.prototype.reset=function(a){var b,a=a||{};for(b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this.width=void 0===a.width?10:a.width;this.height=void 0===a.height?10:a.height;this.color=a.color||[0,0,0];this.colorMode=a.colorMode||
"rgb";this.visibility=a.visibility||"visible";this.opacity=void 0===a.opacity?1:a.opacity;this.zIndex=void 0===a.zIndex?1:a.zIndex;this.borderWidth=a.borderWidth||0;this.borderStyle=a.borderStyle||"none";this.borderColor=a.borderColor||"transparent";this.borderRadius=a.borderRadius||0;this.boxShadowOffset=void 0===a.boxShadowOffset?new f.Vector:a.boxShadowOffset;this.boxShadowBlur=a.boxShadowBlur||0;this.boxShadowSpread=a.boxShadowSpread||0;this.boxShadowColor=void 0===a.boxShadowColor?"transparent":
a.boxShadowColor;this.bounciness=void 0===a.bounciness?0.8:a.bounciness;this.mass=void 0===a.mass?10:a.mass;this.acceleration="function"===typeof a.acceleration?a.acceleration.call(this):a.acceleration||new f.Vector;this.velocity="function"===typeof a.velocity?a.velocity.call(this):a.velocity||new f.Vector;this.location="function"===typeof a.location?a.location.call(this):a.location||new f.Vector(this.world.width/2,this.world.height/2);this.initLocation=new f.Vector;this.initLocation.x=this.location.x;
this.initLocation.y=this.location.y;this.maxSpeed=void 0===a.maxSpeed?10:a.maxSpeed;this.minSpeed=a.minSpeed||0;this.angle=a.angle||0;this.position=a.position||"absolute";this.paddingTop=a.paddingTop||0;this.paddingRight=a.paddingRight||0;this.paddingBottom=a.paddingBottom||0;this.paddingLeft=a.paddingLeft||0;this.marginTop=a.marginTop||0;this.lifespan=void 0===a.lifespan?-1:a.lifespan;this.life=a.life||0;this.isStatic=!!a.isStatic;this.controlCamera=!!a.controlCamera;this.worldBounds=a.worldBounds||
[!0,!0,!0,!0];this.checkWorldEdges=void 0===a.checkWorldEdges?!0:a.checkWorldEdges;this.wrapWorldEdges=!!a.wrapWorldEdges;this.wrapWorldEdgesSoft=!!a.wrapWorldEdgesSoft;this.avoidWorldEdges=!!a.avoidWorldEdges;this.avoidWorldEdgesStrength=void 0===a.avoidWorldEdgesStrength?50:a.avoidWorldEdgesStrength};i.prototype.step=function(){this.isStatic||(this.applyForce(this.world.gravity),this.velocity.add(this.acceleration),this.velocity.limit(this.maxSpeed,this.minSpeed),this.location.add(this.velocity),
this.controlCamera&&this._checkCameraEdges(),this.checkWorldEdges&&this._checkWorldEdges(),this.acceleration.mult(0),this.life<this.lifespan?this.life++:-1!==this.lifespan&&f.System.destroyItem(this))};i.prototype.applyForce=function(a){if(a)return this._force.x=a.x,this._force.y=a.y,this._force.div(this.mass),this.acceleration.add(this._force),this.acceleration};i.prototype._checkWorldEdges=function(){var a,b,c=this.world.bounds[1],d=this.world.bounds[2];a=this.worldBounds;var e=this.location;b=
this.velocity;var f=this.width,m=this.height,h=this.bounciness;this.wrapWorldEdgesSoft?(a=e.x,b=e.y,e.x>c?(e.x=-(c-e.x),this.controlCamera&&(this.world.location.x=this.world.location.x+a-e.x)):0>e.x&&(e.x=c+e.x,this.controlCamera&&(this.world.location.x=this.world.location.x+a-e.x)),e.y>d)?(e.y=-(d-e.y),this.controlCamera&&(this.world.location.y=this.world.location.y+b-e.y)):0>e.y&&(e.y=d+e.y,this.controlCamera&&(this.world.location.y=this.world.location.y+b-e.y)):this.wrapWorldEdges?(a=e.x,b=e.y,
e.x>c?(e.x=0,this.controlCamera&&(this.world.location.x=this.world.location.x+a-e.x)):0>e.x&&(e.x=c,this.controlCamera&&(this.world.location.x=this.world.location.x+a-e.x)),e.y>d)?(e.y=0,this.controlCamera&&(this.world.location.y=this.world.location.y+b-e.y)):0>e.y&&(e.y=d,this.controlCamera&&(this.world.location.y=this.world.location.y+b-e.y)):(e.x+f/2>c&&a[1]?(e.x=c-f/2,b.x*=-1*h):e.x<f/2&&a[3]&&(e.x=f/2,b.x*=-1*h),e.y+m/2>d&&a[2])?(e.y=d-m/2,b.y*=-1*h):e.y<m/2&&a[0]&&(e.y=m/2,b.y*=-1*h)};i.prototype._checkCameraEdges=
function(){this._camera.x=this.velocity.x;this._camera.y=this.velocity.y;this.world.location.add(this._camera.mult(-1))};i.prototype.draw=function(){f.System._draw(this)};f.Item=i;var d={name:"System",_stylePosition:"",clock:0,supportedFeatures:{csstransforms:!0,csstransforms3d:!0},_records:{lookup:{},list:[]},_worlds:{lookup:{},list:[]},_caches:{},_idCount:0};d.mouse={location:new f.Vector,lastLocation:new f.Vector,velocity:new f.Vector};d._resizeTime=0;d.init=function(a,b,c,g){a=a||function(){};
b=b||new f.World(document.body);c=c||null;g=!g?!1:!0;if(c)if("object"===typeof c&&"undefined"!==typeof c.csstransforms&&"undefined"!==typeof c.csstransforms3d)this.supportedFeatures=c;else throw Error("System: supportedFeatures should be passed as an object.");else this.supportedFeatures=d._getSupportedFeatures();this._stylePosition=d.supportedFeatures.csstransforms3d?"transform: translate3d(<x>px, <y>px, 0) rotate(<angle>deg) scale(<scale>, <scale>); -webkit-transform: translate3d(<x>px, <y>px, 0) rotate(<angle>deg) scale(<scale>, <scale>); -moz-transform: translate3d(<x>px, <y>px, 0) rotate(<angle>deg) scale(<scale>, <scale>); -o-transform: translate3d(<x>px, <y>px, 0) rotate(<angle>deg) scale(<scale>, <scale>); -ms-transform: translate3d(<x>px, <y>px, 0) rotate(<angle>deg) scale(<scale>, <scale>);":
d.supportedFeatures.csstransforms?"transform: translate(<x>px, <y>px) rotate(<angle>deg) scale(<scale>, <scale>); -webkit-transform: translate(<x>px, <y>px) rotate(<angle>deg) scale(<scale>, <scale>); -moz-transform: translate(<x>px, <y>px) rotate(<angle>deg) scale(<scale>, <scale>); -o-transform: translate(<x>px, <y>px) rotate(<angle>deg) scale(<scale>, <scale>); -ms-transform: translate(<x>px, <y>px) rotate(<angle>deg) scale(<scale>, <scale>);":"position: absolute; left: <x>px; top: <y>px;";if("[object Array]"===
Object.prototype.toString.call(b))for(var e=0,h=b.length;e<h;e++)d._addWorld(b[e]);else d._addWorld(b);document.body.onorientationchange=d.updateOrientation;this._addEvent(window,"resize",function(a){d._resize.call(d,a)});this._addEvent(document,"mousemove",function(a){d._recordMouseLoc.call(d,a)});this._addEvent(window,"touchstart",function(a){d._recordMouseLoc.call(d,a)});this._addEvent(window,"touchmove",function(a){d._recordMouseLoc.call(d,a)});this._addEvent(window,"touchend",function(a){d._recordMouseLoc.call(d,
a)});this._addEvent(window,"devicemotion",function(a){var b=d._caches.World.list,c=a.accelerationIncludingGravity.x,g=a.accelerationIncludingGravity.y;e=0;for(h=b.length;e<h;e++)a=b[e],0===window.orientation?(a.gravity.x=c,a.gravity.y=-1*g):-90===window.orientation?(a.gravity.x=g,a.gravity.y=c):(a.gravity.x=-1*g,a.gravity.y=-1*c)});this._addEvent(window,"keyup",function(a){d._keyup.call(d,a)});this._setup=a;this._setup.call(this);g||this._update()};d._addWorld=function(a){d._records.list.push(a);
d._worlds.list.push(d._records.list[d._records.list.length-1]);d._worlds.lookup[a.el.id]=d._records.list[d._records.list.length-1]};d.add=function(a,b,c){var g,e=this._records.list,f=this._records.lookup,b=b||{};b.world=c||e[0];if(this.getAllItemsByName(a,b.world._pool).length){c=0;for(g=b.world._pool.length;c<g;c++)if(b.world._pool[c].name===a){e[e.length]=b.world._pool.splice(c,1)[0];e[e.length-1].options=b;d._updateCacheLookup(e[e.length-1],!0);break}}else e[e.length]=Burner[a]?new Burner[a](b):
new Burner.Classes[a](b);a=e.length-1;f[e[a].id]=e[a].el.parentNode;e[a].reset(b);e[a].init(b);return e[a]};d.start=function(){this._update()};d.updateCache=function(a){var b=d._caches[a.name]||(d._caches[a.name]={lookup:{},list:[]});b.list[b.list.length]=a;b.lookup[a.id]=!0;return b};d._updateCacheLookup=function(a,b){var c=d._caches[a.name];c&&(c.lookup[a.id]=b)};d.count=function(){return this._records.list.length};d.firstWorld=function(){return this._worlds.list.length?this._worlds.list[0]:null};
d.lastWorld=function(){return this._worlds.list.length?this._worlds.list[this._worlds.list.length-1]:null};d.firstItem=function(){return this._records.list[0]};d.lastItem=function(){return this._records.list[this._records.list.length-1]};d.getAllWorlds=function(){return d._worlds.list};d._update=function(){var a,b,c=d._records.list,g,e=d.firstWorld();if(d._resizeTime&&100<(new Date).getTime()-d._resizeTime){d._resizeTime=0;g=d.getAllWorlds();a=0;for(b=g.length;a<b;a++)g[a].pauseStep=!1;e.afterResize&&
e.afterResize.call(this)}for(a=c.length-1;0<=a;a-=1)b=c[a],b.step&&!b.world.pauseStep&&b.step();for(a=c.length-1;0<=a;a-=1)b=c[a],b.draw&&!b.world.drawStep&&b.draw();d.clock++;window.requestAnimFrame(d._update)};d._stepForward=function(){var a,b,c,g=d._records.list,e=d.getAllWorlds();a=0;for(c=e.length;a<c;a++){b=e[a];b.pauseStep=!0;for(b=g.length-1;0<=b;b-=1)g[b].step&&g[b].step();for(b=g.length-1;0<=b;b-=1)g[b].draw&&g[b].draw()}d.clock++};d._resetSystem=function(a){var b,c,g,e=d.getAllWorlds();
b=0;for(c=e.length;b<c;b++){g=e[b];g.pauseStep=!1;for(g.pauseDraw=!1;g.el.firstChild;)g.el.removeChild(g.el.firstChild)}d._caches={};d._destroyAllItems();d._idCount=0;d.mouse={location:new f.Vector,lastLocation:new f.Vector,velocity:new f.Vector};d._resizeTime=0;a||d._setup.call(d)};d._destroySystem=function(){this._resetSystem(!0);this._destroyAllWorlds();this._idCount=this.clock=0};d._destroyAllItems=function(){var a,b=this._records.list;for(a=b.length-1;0<=a;a--)"World"!==b[a].name&&b.splice(a,
1)};d._destroyAllWorlds=function(){var a,b,c=this._records.list;for(a=c.length-1;0<=a;a--)b=c[a],"World"===b.name&&(b.el.parentNode.removeChild(b.el),c.splice(a,1));this._worlds={lookup:{},list:[]}};d.destroyItem=function(a){var b,c,g=this._records.list;b=0;for(c=g.length;b<c;b++)if(g[b].id===a.id){g[b].el.style.visibility="hidden";g[b].el.style.display="none";g[b].el.style.opacity=0;g[b].world._pool[g[b].world._pool.length]=g.splice(b,1)[0];d._updateCacheLookup(a,!1);break}};d.getAllItemsByName=
function(a,b){var c,d,e=[],f=b||this._records.list;c=0;for(d=f.length;c<d;c++)f[c].name===a&&(e[e.length]=f[c]);return e};d.getAllItemsByAttribute=function(a,b){var c,d,e=[],f=this._records.list,h=void 0!==b?b:null;c=0;for(d=f.length;c<d;c++)void 0!==f[c][a]&&!(null!==h&&f[c][a]!==h)&&(e[e.length]=f[c]);return e};d.updateItemPropsByName=function(a,b){var c,d,e,f=this.getAllItemsByName(a);c=0;for(d=f.length;c<d;c++)for(e in b)b.hasOwnProperty(e)&&(f[c][e]=b[e]);return f};d.getItem=function(a){var b,
c,d=this._records.list;b=0;for(c=d.length;b<c;b+=1)if(d[b].id===a)return d[b];return null};d.updateItem=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};d._resize=function(){var a,b,c=this._records.list,g,e=this.getWindowSize(),h=d.getAllWorlds();a=0;for(b=c.length;a<b;a++)g=c[a],"World"!==g.name&&(g.world.boundToWindow&&g.location)&&(g.location.x=e.width*(g.location.x/g.world.width),g.location.y=e.height*(g.location.y/g.world.height));a=0;for(b=h.length;a<b;a++)c=h[a],c.boundToWindow&&
(c.bounds=[0,e.width,e.height,0],c.width=e.width,c.height=e.height,c.location=new f.Vector(e.width/2,e.height/2))};d._keyup=function(a){var b,c,f=this.getAllWorlds();switch(a.keyCode){case 39:d._stepForward();break;case 80:a=0;for(b=f.length;a<b;a++)c=f[a],c.pauseStep=!c.pauseStep;break;case 82:d._resetSystem();break;case 83:d._toggleStats()}};d.getNewId=function(){this._idCount++;return this._idCount};d._addEvent=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+
b,c)};d._recordMouseLoc=function(a){var b,c=this.firstWorld();this.mouse.lastLocation.x=this.mouse.location.x;this.mouse.lastLocation.y=this.mouse.location.y;a.changedTouches&&(b=a.changedTouches[0]);a.pageX&&a.pageY?(this.mouse.location.x=this.map(a.pageX,0,window.innerWidth,0,c.width),this.mouse.location.y=this.map(a.pageY,0,window.innerHeight,0,c.height)):a.clientX&&a.clientY?(this.mouse.location.x=this.map(a.clientX,0,window.innerWidth,0,c.width),this.mouse.location.y=this.map(a.clientY,0,window.innerHeight,
0,c.height)):b&&(this.mouse.location.x=b.pageX,this.mouse.location.y=b.pageY);this.mouse.velocity.x=this.mouse.lastLocation.x-this.mouse.location.x;this.mouse.velocity.y=this.mouse.lastLocation.y-this.mouse.location.y};d.extend=function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a};d.getWindowSize=function(){var a={width:!1,height:!1};"undefined"!==typeof window.innerWidth?(a.width=window.innerWidth,a.height=window.innerHeight):"undefined"!==typeof document.documentElement&&
"undefined"!==typeof document.documentElement.clientWidth?(a.width=document.documentElement.clientWidth,a.height=document.documentElement.clientHeight):"undefined"!==typeof document.body&&(a.width=document.body.clientWidth,a.height=document.body.clientHeight);return a};d.updateOrientation=function(){setTimeout(function(){d._records.list[0]._setBounds()},500)};d.getRandomNumber=function(a,b,c){return c?Math.random()*(b-(a-1))+a:Math.floor(Math.random()*(b-(a-1)))+a};d._toggleStats=function(){d._statsDisplay?
d._statsDisplay&&d._statsDisplay._active?d._statsDisplay.destroy():d._statsDisplay&&!d._statsDisplay._active&&(d._statsDisplay=new f.StatsDisplay):d._statsDisplay=new f.StatsDisplay};d._getSupportedFeatures=function(){return window.Modernizr?{csstransforms3d:Modernizr.csstransforms3d,csstransforms:Modernizr.csstransforms,touch:Modernizr.touch}:{csstransforms3d:f.FeatureDetector.detect("csstransforms3d"),csstransforms:f.FeatureDetector.detect("csstransforms"),touch:f.FeatureDetector.detect("touch")}};
d.map=function(a,b,c,d,e){return(a-b)/(c-b)*(e-d)+d};d._draw=function(a){var b=f.System.getCSSText({x:a.location.x-a.width/2,y:a.location.y-a.height/2,angle:a.angle,scale:a.scale||1,width:a.autoWidth?null:a.width,height:a.autoHeight?null:a.height,color0:a.color[0],color1:a.color[1],color2:a.color[2],colorMode:a.colorMode,visibility:a.visibility,opacity:a.opacity,zIndex:a.zIndex,borderWidth:a.borderWidth,borderStyle:a.borderStyle,borderColor0:a.borderColor[0],borderColor1:a.borderColor[1],borderColor2:a.borderColor[2],
borderRadius:a.borderRadius,boxShadowOffsetX:a.boxShadowOffset.x,boxShadowOffsetY:a.boxShadowOffset.y,boxShadowBlur:a.boxShadowBlur,boxShadowSpread:a.boxShadowSpread,boxShadowColor0:a.boxShadowColor[0],boxShadowColor1:a.boxShadowColor[1],boxShadowColor2:a.boxShadowColor[2],position:a.position,paddingTop:a.paddingTop,paddingRight:a.paddingRight,paddingBottom:a.paddingBottom,paddingLeft:a.paddingLeft,marginTop:a.marginTop});a.el.style.cssText=b};d.getCSSText=function(a){return this._stylePosition.replace(/<x>/g,
a.x).replace(/<y>/g,a.y).replace(/<angle>/g,a.angle).replace(/<scale>/g,a.scale)+"width: "+a.width+"px; height: "+a.height+"px; background-color: "+a.colorMode+"("+a.color0+", "+a.color1+("hsl"===a.colorMode?"%":"")+", "+a.color2+("hsl"===a.colorMode?"%":"")+"); border: "+a.borderWidth+"px "+a.borderStyle+" "+a.colorMode+"("+a.borderColor0+", "+a.borderColor1+("hsl"===a.colorMode?"%":"")+", "+a.borderColor2+("hsl"===a.colorMode?"%":"")+"); border-radius: "+a.borderRadius+"%; box-shadow: "+a.boxShadowOffsetX+
"px "+a.boxShadowOffsetY+"px "+a.boxShadowBlur+"px "+a.boxShadowSpread+"px "+a.colorMode+"("+a.boxShadowColor0+", "+a.boxShadowColor1+("hsl"===a.colorMode?"%":"")+", "+a.boxShadowColor2+("hsl"===a.colorMode?"%":"")+"); visibility: "+a.visibility+"; opacity: "+a.opacity+"; z-index: "+a.zIndex+"; position: "+a.position+"; padding-top: "+a.paddingTop+"px; padding-right: "+a.paddingRight+"px; padding-bottom: "+a.paddingBottom+"px; padding-left: "+a.paddingLeft+"px; margin-top: "+a.marginTop+"px;"};f.System=
d;l.prototype.step=function(){};l.prototype.draw=function(){f.System._draw(this)};l.prototype._setBounds=function(){var a=f.System.getWindowSize();this.boundToWindow?(this.bounds=[0,a.width,a.height,0],this.width=a.width,this.height=a.height):this.bounds=[0,this.width,this.height,0];this.location||(this.location=new f.Vector(a.width/2,a.height/2))};f.World=l;f.System.extend(n,f.Item);n.prototype.init=function(a){this.width=a.width||20;this.height=a.height||20;this.color=a.color||[100,100,100];this.borderRadius=
a.borderRadius||0};f.Box=n;f.System.extend(o,f.Item);o.prototype.init=function(a){this.width=a.width||20;this.height=a.height||20;this.color=a.color||[0,0,0];this.colorMode=a.colorMode||"rgb";this.borderRadius=a.borderRadius||100;this.opacity=a.opacity||1;this.boxShadowOffset=a.boxShadowOffset||new f.Vector;this.boxShadowBlur=a.boxShadowBlur||0;this.boxShadowSpread=a.boxShadowSpread||0;this.boxShadowColor=a.boxShadowColor||[0,0,0]};f.Ball=o})(exports);
